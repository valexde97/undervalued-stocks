import{k as z,l as D,r as h,R as A,i as V,a as L,j as n,L as E,s as I}from"./index-Bz-nO7ji.js";import{a as S,s as N,r as W,m as j}from"./proxy-CsM7G8xT.js";function T(e){e.values.forEach(s=>s.stop())}function b(e,s){[...s].reverse().forEach(i=>{const o=e.getVariant(i);o&&N(e,o),e.variantChildren&&e.variantChildren.forEach(l=>{b(l,s)})})}function G(e,s){if(Array.isArray(s))return b(e,s);if(typeof s=="string")return b(e,[s]);N(e,s)}function M(){const e=new Set,s={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,i){const o=[];return e.forEach(l=>{o.push(S(l,r,{transitionOverride:i}))}),Promise.all(o)},set(r){return e.forEach(i=>{G(i,r)})},stop(){e.forEach(r=>{T(r)})},mount(){return()=>{s.stop()}}};return s}function k(){const e=z(M);return D(e.mount,[]),e}const O=k,H={some:0,all:1};function q(e,s,{root:r,margin:i,amount:o="some"}={}){const l=W(e),u=new WeakMap,d=t=>{t.forEach(c=>{const v=u.get(c.target);if(c.isIntersecting!==!!v)if(c.isIntersecting){const m=s(c.target,c);typeof m=="function"?u.set(c.target,m):p.unobserve(c.target)}else typeof v=="function"&&(v(c),u.delete(c.target))})},p=new IntersectionObserver(d,{root:r,rootMargin:i,threshold:typeof o=="number"?o:H[o]});return l.forEach(t=>p.observe(t)),()=>p.disconnect()}function U(e,{root:s,margin:r,amount:i,once:o=!1,initial:l=!1}={}){const[u,d]=h.useState(l);return h.useEffect(()=>{if(!e.current||o&&u)return;const p=()=>(d(!0),o?void 0:()=>d(!1)),t={root:s&&s.current||void 0,margin:r,amount:i};return q(e.current,p,t)},[s,e,r,o,i]),u}const J="_card_wuv1s_1",K="_header_wuv1s_14",Q="_title_wuv1s_17",X="_fav_wuv1s_21",Y="_activeFav_wuv1s_23",Z="_inlineRow_wuv1s_26",ee="_kv_wuv1s_27",se="_k_wuv1s_27",ne="_v_wuv1s_29",ae="_dot_wuv1s_30",te="_badge_wuv1s_33",re="_badgeDot_wuv1s_34",ie="_priceRow_wuv1s_38",oe="_priceBlock_wuv1s_39",ce="_priceLabel_wuv1s_40",le="_priceValue_wuv1s_41",ue="_delta_wuv1s_44",de="_up_wuv1s_45",pe="_down_wuv1s_46",_e="_subStats_wuv1s_49",ve="_range_wuv1s_50",he="_xtra_wuv1s_50",me="_ctaWrap_wuv1s_56",we="_viewButton_wuv1s_57",a={card:J,header:K,title:Q,fav:X,activeFav:Y,inlineRow:Z,kv:ee,k:se,v:ne,dot:ae,badge:te,badgeDot:re,priceRow:ie,priceBlock:oe,priceLabel:ce,priceValue:le,delta:ue,up:de,down:pe,subStats:_e,range:ve,xtra:he,ctaWrap:me,viewButton:we};function xe(e,s){return s||(e==null||!Number.isFinite(e)?"—":e>=1e3?`${(e/1e3).toFixed(2)}B`:`${e.toFixed(2)}M`)}function fe(e){if(!e)return"—";const s=String(e).toLowerCase();return s.charAt(0).toUpperCase()+s.slice(1)}const ge=({stock:e})=>{const{favorites:s,toggleFavorite:r}=V(),i=s.includes(e.ticker),o=L(),l=h.useRef(null),u=U(l,{once:!0,margin:"0px 0px -10% 0px"}),d=O();h.useEffect(()=>{u&&d.start("visible")},[u,d]);const p=`${e.name??e.ticker} (${e.ticker})`,t=h.useMemo(()=>{const w=(e==null?void 0:e.open)??null,_=(e==null?void 0:e.prevClose)??null,F=(e==null?void 0:e.high)??null,P=(e==null?void 0:e.low)??null,x=e.price??null,f=x!=null&&_!=null?x-_:null,g=(f!=null&&_?f/_*100:null)??e.changePct??null,R=typeof g=="number"&&Number.isFinite(g)?g:null,B=w!=null&&_!=null?w-_:null;return{open:w,prev:_,high:F,low:P,price:x,dAbs:f,dPct:R,openDelta:B}},[e]),c=fe(e.category),v=t.dPct!=null?t.dPct>=0?a.up:a.down:"",m=t.openDelta!=null?t.openDelta>=0?a.up:a.down:"",C=(e==null?void 0:e.open)!=null&&(e==null?void 0:e.prevClose)!=null?`${e.open.toFixed(2)} • ${e.prevClose.toFixed(2)}${t.openDelta!=null?` (${t.openDelta>=0?"+":""}${t.openDelta.toFixed(2)})`:""}`:"—",y=t.low!=null&&t.high!=null?`${t.low.toFixed(2)} – ${t.high.toFixed(2)}`:"—",$=typeof t.price=="number"&&Number.isFinite(t.price)&&t.price>0;return n.jsxs(j.div,{ref:l,initial:"hidden",animate:d,whileHover:{scale:1.02},variants:{hidden:{opacity:0,y:30,scale:.98},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:"easeOut"}}},className:a.card,children:[n.jsxs("div",{className:a.header,children:[n.jsx("h3",{className:a.title,children:p}),n.jsx("button",{onClick:()=>r(e.ticker),className:`${a.fav} ${i?a.activeFav:""}`,"aria-label":i?"remove from favorites":"add to favorites",title:"Toggle favorite",children:i?"⭐":"☆"})]}),n.jsxs("div",{className:a.inlineRow,children:[n.jsxs("span",{className:a.kv,children:[n.jsx("span",{className:a.k,children:"Market Cap:"})," ",n.jsx("span",{className:a.v,children:xe(e.marketCap??null,e==null?void 0:e.marketCapText)})]}),n.jsx("span",{className:a.dot,children:"•"}),n.jsxs("span",{className:a.kv,children:[n.jsx("span",{className:a.k,children:"Category:"})," ",n.jsxs("span",{className:a.badge,children:[n.jsx("span",{className:a.badgeDot}),c]})]})]}),n.jsxs("div",{className:a.inlineRow,children:[n.jsxs("span",{className:a.kv,children:[n.jsx("span",{className:a.k,children:"Industry:"})," ",n.jsx("span",{className:a.v,children:e.industry??"—"})]}),e.country?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:a.dot,children:"•"}),n.jsxs("span",{className:a.kv,children:[n.jsx("span",{className:a.k,children:"Country:"})," ",n.jsx("span",{className:a.v,children:e.country})]})]}):null]}),n.jsxs("div",{className:a.priceRow,children:[n.jsxs("div",{className:a.priceBlock,children:[n.jsx("span",{className:a.priceLabel,children:"Price:"}),n.jsx("span",{className:a.priceValue,children:$?`$${t.price.toFixed(2)}`:"—"})]}),n.jsxs("span",{className:`${a.delta} ${v}`,children:[t.dPct==null?"":`${t.dPct>=0?"+":""}${t.dPct.toFixed(2)}%`,t.dAbs!=null?` (${t.dAbs>=0?"+":""}${t.dAbs.toFixed(2)})`:""]})]}),n.jsxs("div",{className:a.subStats,children:[n.jsxs("div",{className:a.range,children:["Day range: ",n.jsx("span",{children:y})]}),n.jsxs("div",{className:a.xtra,children:["Open/Prev: ",n.jsx("span",{className:m,children:C})]})]}),n.jsx("div",{className:a.ctaWrap,children:n.jsx(E,{to:`/stocks/${e.ticker}`,state:{seed:{price:e.price??null,category:e.category??null}},onClick:()=>o(I({ticker:e.ticker,price:e.price??null,category:e.category??null})),children:n.jsx(j.button,{className:a.viewButton,whileHover:{scale:1.03},whileTap:{scale:.97},children:"View Details"})})})]})};function be(e,s){const r=e.stock,i=s.stock;return e.stock.ticker===s.stock.ticker&&e.stock.price===s.stock.price&&e.stock.changePct===s.stock.changePct&&r.open===i.open&&r.high===i.high&&r.low===i.low&&r.prevClose===i.prevClose&&e.stock.marketCap===s.stock.marketCap&&e.stock.category===s.stock.category&&(e.stock.industry??null)===(s.stock.industry??null)&&(e.stock.country??null)===(s.stock.country??null)}const Te=A.memo(ge,be),je="_page_a9iaz_2",Ne="_container_a9iaz_7",Ce="_topBar_a9iaz_12",ye="_hero_a9iaz_14",$e="_intro_a9iaz_20",Fe="_headerGrid_a9iaz_45",Pe="_newsCol_a9iaz_53",Re="_sideCol_a9iaz_54",Be="_listArea_a9iaz_84",ze="_cardsGrid_a9iaz_87",De="_moreRow_a9iaz_108",Ae="_pageLabel_a9iaz_116",Ve="_moreBtn_a9iaz_118",Le="_skeletonWrap_a9iaz_132",Ee="_error_a9iaz_133",Ge={page:je,container:Ne,topBar:Ce,hero:ye,intro:$e,headerGrid:Fe,newsCol:Pe,sideCol:Re,listArea:Be,cardsGrid:ze,moreRow:De,pageLabel:Ae,moreBtn:Ve,skeletonWrap:Le,error:Ee};export{Te as S,Ge as l};
